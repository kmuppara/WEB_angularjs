<!DOCTYPE html>
<html ng-app = "myApp" lang="en" xmlns:th="http://www.thymeleaf.org">
<head >
      <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.2/angular.min.js"></script>
      <!-- <script type = "text/javascript" src="js/service.js"></script> -->
</head>
   
  <body ng-controller = "HelloController">
  <table>
  	<tr >
  		<th colspan="2" width="1350" height="100">
  			<h1>WelCome to RBC...</h1>
  		</th>
  	</tr>
  	
  	<tr>
  		<td width="200" height="520" style="background-color:lightgray;">
  			
		 	 <button ng-click="getABtn()">GetRobot</button><br/><br/>
	         <button ng-click="getBBtn()">AddRobot</button><br/><br/>
	         <button ng-click="getCBtn()">DeleteRobot</button><br/><br/>
	         <button >GetAllRobots</button>
  			
		</td>
  			
		<td width="1000" height="520" align="center">
			<div>
				<table width="30" height="30">
					<tr>
						<th>RobotId</th>
						<th>Name</th>
						<th>Price</th>
					</tr>
					<tr> <!-- ng-repeat="robo in robots" -->
						<td>{{robots.robotId}}</td>
						<td>{{robots.name}}</td>
						<td>{{robots.price}}</td>
					</tr>
				</table><br/><br/>
			</div>
			
  			<div>
  				<form ng-submit="getRobot(robot)">
  				ROBOT ID: <input type = "text" ng-model = "robot.getid" placeholder = "Enter robotid" required="required"></input>
  				<input type = "submit" value = "GET"></input><br/><br/>
  				</form>
  			</div>
  			<div>
  				<form ng-submit="addRobot(robot)">
  				NAME: <input type = "text" ng-model = "robot.name" placeholder = "Name" required="required"></input>
  				PRICE: <input type = "text" ng-model = "robot.price" placeholder = "Price" required="required"></input>
  				<input type = "submit" value = "ADD"/><br/><br/>
  				</form>
  			</div>
  			<div>
  				<form ng-submit="deleteRobot(robot)">
  				ROBOT ID: <input type = "text" ng-model = "robot.deleteid" placeholder = "Enter robotid" required="required"></input>
  				<input type = "submit" value = "DELETE"/><br/><br/>
  				</form>
  			</div>
  		</td>	
  	</tr>
  
  </table>
  
   <script>
         var myApp = angular
         				.module("myApp", [])
         				.controller("HelloController", function($scope, $http, $log) {
				            $scope.helloTo = {};
				            $scope.btn = {};
				            $scope.robot = {};
				            $scope.robots = {};
				            $scope.allRobots = {};
				            $scope.helloTo.title = "PRASAD"; 
				            
				            $scope.getRobot = function(robot) {
									                $http({
									                		method: 'GET',
									                		url: "http://localhost:8086/getRobot",
									                		params: {robotid:robot.getid}
									               		 	})
										            		.then(sucessCallBack, errorCallBack);
									            	};
							$scope.addRobot = function(robot) {
										                $http({
										                		method: 'POST',
										                		url: "http://localhost:8086/addRobot",
										                		data: {robotId:3,
										                				name:robot.name,
										                				price:robot.price
										                				}
										               		 	})
											            		.then(sucessCallBack, errorCallBack);
										            };
							$scope.deleteRobot = function(robot) {
										                $http({
										                		method: 'DELETE',
										                		url: "http://localhost:8086/deleteRobot",
										                		params: {robotid:robot.deleteid}
										               		 	})
											            		.then(sucessCallBack, errorCallBack);
										            };
							$scope.getAllRobots = function() {
										                $http({
										                		method: 'GET',
										                		url: "http://localhost:8086/getAllRobots"
										               		 	})
											            		.then(sucessCallBack, errorCallBack);
										            };
				            
							            var sucessCallBack = function (response){
							            	console.log("sucess");
							            	$scope.robots = response.data;
							            };
							            var errorCallBack = function (response){
							            	console.log("error");
							            	$scope.error = response.data;
							            };
							$scope.getABtn = function() {
									$scope.btn.a = true ;
						            $scope.btn.b = false ;
						            $scope.btn.c = false ;
						            $scope.$apply();
								};
							$scope.getBBtn = function() {
								$scope.btn.a = false ;
					            $scope.btn.b = true ;
					            $scope.btn.c = false ;
					            $scope.$apply();
							};
							$scope.getCBtn = function() {
								$scope.btn.a = false ;
					            $scope.btn.b = false ;
					            $scope.btn.c = true ;
					            $scope.$digest();
							};
							
				            });
         
      </script>
      
		<style>
		  	table, th , td {
		      border: 1px solid lightgray;
		      border-collapse: collapse;
		   		}
			th{background-color: #c2c2d6;}
		
		    button {
		    background-color: #4CAF50; /* Green */
		    border: none;
		    color: white;
		    width:100%;
		    height:10%;
		    text-align: center;
		    text-decoration: none;
		    display: inline-block;
		    font-size: 18px;
			cursor: pointer;
			border-radius: 8px;
		    	}
		  </style>
	</body>

</html>